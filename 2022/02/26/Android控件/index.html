<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon-package/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-package/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-package/favicon-16x16.png">
  <link rel="mask-icon" href="/assets/images/favicon-package/safari-pinned-tab.svg" color="#222">
  <link rel="manifest" href="/assets/images/favicon-package/site.webmanifest">
  <meta name="google-site-verification" content="qIz-Tg08U6gyN_53z89yii0ZmKx2avfsO-iyOWhsRx8">
  <meta name="msvalidate.01" content="096F3D01D2AA04148F10750CD4566535">
  <meta name="yandex-verification" content="43f790b7e38394a4">
  <meta name="baidu-site-verification" content="codeva-LMZoUaXjJl">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="/lib/@fortawesome/fontawesome-free/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="/lib/animate.css/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"loli.fj.cn","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.23.2","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"atom-one-light","dark":"atom-one-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":"mac"},"fold":{"enable":true,"height":500},"language":true},"bookmark":{"enable":true,"color":"#222","save":"manual"},"mediumzoom":true,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="前言Android控件学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="【笔记】Android控件">
<meta property="og:url" content="https://loli.fj.cn/2022/02/26/Android%E6%8E%A7%E4%BB%B6/index.html">
<meta property="og:site_name" content="57uv6Z6g55qE5Y2a5a6i">
<meta property="og:description" content="前言Android控件学习笔记">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-02-26T03:14:44.000Z">
<meta property="article:modified_time" content="2025-10-25T07:39:44.838Z">
<meta property="article:author" content="57uv6Z6g">
<meta property="article:tag" content="Android">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://loli.fj.cn/2022/02/26/Android%E6%8E%A7%E4%BB%B6/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://loli.fj.cn/2022/02/26/Android%E6%8E%A7%E4%BB%B6/","path":"2022/02/26/Android控件/","title":"【笔记】Android控件"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>【笔记】Android控件 | 57uv6Z6g55qE5Y2a5a6i</title>
  






  <script async defer data-website-id="981ed5a0-eea5-4426-a8a9-c16a789ccc3f" src="https://umami.loli.fj.cn/script.js" data-host-url="https://umami.loli.fj.cn/"></script>


  
  <script src="/lib/animejs/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="/lib/@next-theme/pjax/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
  <script src="/lib/medium-zoom/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous" defer></script>
  <script src="/lib/pangu/dist/browser/pangu.umd.js" integrity="sha256-erngBMP3zzoIM6eqQ8dmrReh2vqCRgWmORroIfVoDlE=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="/lib/hexo-generator-searchdb/dist/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>







  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"/lib/mathjax/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="57uv6Z6g55qE5Y2a5a6i" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">57uv6Z6g55qE5Y2a5a6i</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">MS4wLjABAAAA5qMD8Gzdcgq7HXUOviKB59i0-ybJ59jJvNzyaPt5XOsVNqP6DU7WLcoAXvdxvYdp💗<br><font color="red">本站所有文章仅作技术研究，请勿非法破坏，请遵守相关法律法规，后果自负</font></p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a></li><li class="menu-item menu-item-reward"><a href="/reward/" rel="section"><i class="fa fa-hand-holding-heart fa-fw"></i>赞助</a></li><li class="menu-item menu-item-command"><a href="/command/" rel="section"><i class="fa fa-book fa-fw"></i>指令</a></li><li class="menu-item menu-item-contribute"><a href="/contribute/" rel="section"><i class="fa fa-chart-line fa-fw"></i>贡献</a></li><li class="menu-item menu-item-rss"><a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>订阅</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

<link rel="manifest" href="/assets/images/favicon-package/site.webmanifest">

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#xml%E5%A4%B4"><span class="nav-number">2.</span> <span class="nav-text">xml头</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TextView%E6%96%87%E6%9C%AC%E7%BB%84%E4%BB%B6"><span class="nav-number">3.</span> <span class="nav-text">TextView文本组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.1.</span> <span class="nav-text">基本属性设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%B4%E5%BD%B1%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.2.</span> <span class="nav-text">阴影设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%91%E9%A9%AC%E7%81%AF%E6%95%88%E6%9E%9C"><span class="nav-number">3.3.</span> <span class="nav-text">跑马灯效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87Java%E8%AE%BE%E7%BD%AE%E6%8E%A7%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="nav-number">3.4.</span> <span class="nav-text">通过Java设置控件属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87id%E8%8E%B7%E5%8F%96%E6%8E%A7%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.4.1.</span> <span class="nav-text">通过id获取控件对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87Java%E5%AF%B9%E8%B1%A1%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="nav-number">3.4.2.</span> <span class="nav-text">通过Java对象设置属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%B8%B8%E9%87%8F%E6%B1%A0%E4%B8%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%B8%B8%E9%87%8F"><span class="nav-number">3.5.</span> <span class="nav-text">使用常量池中字符串的常量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F"><span class="nav-number">3.5.1.</span> <span class="nav-text">添加字符串常量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F"><span class="nav-number">3.5.2.</span> <span class="nav-text">使用字符串常量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%B8%B8%E9%87%8F%E6%B1%A0%E4%B8%AD%E9%A2%9C%E8%89%B2%E7%9A%84%E5%B8%B8%E9%87%8F"><span class="nav-number">3.6.</span> <span class="nav-text">使用常量池中颜色的常量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E9%A2%9C%E8%89%B2%E5%B8%B8%E9%87%8F"><span class="nav-number">3.6.1.</span> <span class="nav-text">添加颜色常量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E9%A2%9C%E8%89%B2%E5%B8%B8%E9%87%8F"><span class="nav-number">3.6.2.</span> <span class="nav-text">使用颜色常量</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Button%E6%8C%89%E9%92%AE%E7%BB%84%E4%BB%B6"><span class="nav-number">4.</span> <span class="nav-text">Button按钮组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B8%A9%E5%9D%91"><span class="nav-number">4.1.</span> <span class="nav-text">踩坑</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98"><span class="nav-number">4.1.1.</span> <span class="nav-text">解决问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%89%E4%B8%8BButton%E5%AE%9E%E7%8E%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E8%83%8C%E6%99%AF%E8%89%B2"><span class="nav-number">4.2.</span> <span class="nav-text">按下Button实现不同的背景色</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%9B%BE%E7%89%87%E9%80%89%E6%8B%A9%E5%99%A8"><span class="nav-number">4.2.1.</span> <span class="nav-text">创建一个图片选择器</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B8%A9%E5%9D%91-1"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">踩坑</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%9B%BE%E7%89%87%E9%80%89%E6%8B%A9%E5%99%A8"><span class="nav-number">4.2.2.</span> <span class="nav-text">使用图片选择器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%89%E9%92%AE%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.3.</span> <span class="nav-text">按钮事件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87XML%E8%AE%BE%E7%BD%AE%E6%8C%89%E9%92%AE%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.3.1.</span> <span class="nav-text">通过XML设置按钮事件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.3.1.1.</span> <span class="nav-text">点击事件</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87Java%E8%AE%BE%E7%BD%AE%E6%8C%89%E9%92%AE%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.3.2.</span> <span class="nav-text">通过Java设置按钮事件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6-1"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">点击事件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%95%BF%E6%8C%89%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.3.2.2.</span> <span class="nav-text">长按事件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.3.2.3.</span> <span class="nav-text">触摸事件</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A6%E6%91%B8%E7%9A%84%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C"><span class="nav-number">4.3.2.3.1.</span> <span class="nav-text">触摸的具体操作</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%89%93%E5%8D%B0%E6%97%A5%E5%BF%97"><span class="nav-number">4.3.2.4.</span> <span class="nav-text">打印日志</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#EditText%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6"><span class="nav-number">5.</span> <span class="nav-text">EditText表单组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E8%BE%93%E5%85%A5%E6%A1%86%E5%86%85%E5%AE%B9"><span class="nav-number">5.1.</span> <span class="nav-text">获取输入框内容</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ImageView%E5%9B%BE%E7%89%87%E7%BB%84%E4%BB%B6"><span class="nav-number">6.</span> <span class="nav-text">ImageView图片组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ProgressBar%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="nav-number">7.</span> <span class="nav-text">ProgressBar进度条</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E5%8F%98%E8%BF%9B%E5%BA%A6%E6%9D%A1%E7%8A%B6%E6%80%81"><span class="nav-number">7.1.</span> <span class="nav-text">改变进度条状态</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E8%BF%9B%E5%BA%A6%E6%9D%A1%E5%AF%B9%E8%B1%A1"><span class="nav-number">7.1.1.</span> <span class="nav-text">获取进度条对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E8%BF%9B%E5%BA%A6%E6%9D%A1%E7%8A%B6%E6%80%81"><span class="nav-number">7.1.2.</span> <span class="nav-text">查看当前进度条状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%B9%E4%B8%BA%E9%9A%90%E8%97%8F"><span class="nav-number">7.1.3.</span> <span class="nav-text">改为隐藏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%B9%E4%B8%BA%E6%98%BE%E7%A4%BA"><span class="nav-number">7.1.4.</span> <span class="nav-text">改为显示</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Notification%E9%80%9A%E7%9F%A5"><span class="nav-number">8.</span> <span class="nav-text">Notification通知</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%91%E9%80%81%E9%80%9A%E7%9F%A5"><span class="nav-number">8.1.</span> <span class="nav-text">发送通知</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E9%80%9A%E7%9F%A5%E7%9A%84%E6%84%8F%E5%9B%BE"><span class="nav-number">8.1.1.</span> <span class="nav-text">添加通知的意图</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAActivity%E7%B1%BB"><span class="nav-number">8.1.1.1.</span> <span class="nav-text">创建一个Activity类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B3%A8%E5%86%8CActivity"><span class="nav-number">8.1.1.2.</span> <span class="nav-text">注册Activity</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%BA%E9%80%9A%E7%9F%A5%E6%B7%BB%E5%8A%A0%E6%84%8F%E5%9B%BE"><span class="nav-number">8.1.1.3.</span> <span class="nav-text">为通知添加意图</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%96%E6%B6%88%E9%80%9A%E7%9F%A5"><span class="nav-number">8.2.</span> <span class="nav-text">取消通知</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ToolBar%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="nav-number">9.</span> <span class="nav-text">ToolBar导航栏</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%85%E9%99%A4%E8%87%AA%E5%B8%A6%E7%9A%84ActionBar"><span class="nav-number">9.1.</span> <span class="nav-text">清除自带的ActionBar</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0ToolBar"><span class="nav-number">9.2.</span> <span class="nav-text">添加ToolBar</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%82%B9%E5%87%BB%E6%95%88%E6%9E%9C"><span class="nav-number">9.2.1.</span> <span class="nav-text">点击效果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%B1%85%E4%B8%AD%E7%9A%84%E6%A0%87%E9%A2%98"><span class="nav-number">9.2.2.</span> <span class="nav-text">设置居中的标题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AlertDialog%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="nav-number">10.</span> <span class="nav-text">AlertDialog对话框</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E6%8C%89%E9%92%AE"><span class="nav-number">10.1.</span> <span class="nav-text">添加按钮</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%B7%A6%E4%B8%8B%E8%A7%92%E6%8C%89%E9%92%AE"><span class="nav-number">10.1.1.</span> <span class="nav-text">添加左下角按钮</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%8F%B3%E4%B8%8B%E8%A7%92%E5%B7%A6%E4%BE%A7%E6%8C%89%E9%92%AE"><span class="nav-number">10.1.2.</span> <span class="nav-text">添加右下角左侧按钮</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%8F%B3%E4%B8%8B%E8%A7%92%E5%8F%B3%E4%BE%A7%E6%8C%89%E9%92%AE"><span class="nav-number">10.1.3.</span> <span class="nav-text">添加右下角右侧按钮</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%B8%83%E5%B1%80"><span class="nav-number">10.2.</span> <span class="nav-text">添加布局</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%83%E5%B1%80"><span class="nav-number">10.2.1.</span> <span class="nav-text">创建一个布局</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%86dialog-view-xml%E5%B8%83%E5%B1%80%E6%94%BE%E5%88%B0%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="nav-number">10.2.2.</span> <span class="nav-text">将dialog_view.xml布局放到对话框</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PopupWindow%E5%BC%B9%E5%87%BA%E7%AA%97%E5%8F%A3"><span class="nav-number">11.</span> <span class="nav-text">PopupWindow弹出窗口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%83%E5%B1%80%E7%94%A8%E6%9D%A5%E5%BC%B9%E5%87%BA"><span class="nav-number">11.1.</span> <span class="nav-text">创建一个布局用来弹出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8C%89%E9%92%AE%E7%94%A8%E6%9D%A5%E5%BC%B9%E5%87%BA%E7%AA%97%E5%8F%A3"><span class="nav-number">11.2.</span> <span class="nav-text">创建一个按钮用来弹出窗口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAPopupWindow"><span class="nav-number">11.3.</span> <span class="nav-text">创建PopupWindow</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AA%97%E5%8F%A3%E6%97%A0%E5%81%8F%E7%A7%BB%EF%BC%8C%E6%98%BE%E7%A4%BA%E5%9C%A8%E6%AD%A3%E4%B8%8B%E6%96%B9"><span class="nav-number">11.3.1.</span> <span class="nav-text">窗口无偏移，显示在正下方</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AA%97%E5%8F%A3%E6%9C%89%E5%81%8F%E7%A7%BB"><span class="nav-number">11.3.2.</span> <span class="nav-text">窗口有偏移</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%82%B9%E5%87%BB%E7%A9%BA%E7%99%BD%E5%A4%84%E9%9A%90%E8%97%8F"><span class="nav-number">11.3.3.</span> <span class="nav-text">点击空白处隐藏</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E9%97%ADPopupWindow"><span class="nav-number">11.4.</span> <span class="nav-text">关闭PopupWindow</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%82%B9%E5%87%BB%E7%A9%BA%E7%99%BD%E5%A4%84%E9%9A%90%E8%97%8F-1"><span class="nav-number">11.5.</span> <span class="nav-text">点击空白处隐藏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E8%83%8C%E6%99%AF"><span class="nav-number">11.6.</span> <span class="nav-text">设置背景</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%8C%E6%88%90"><span class="nav-number">12.</span> <span class="nav-text">完成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="nav-number">13.</span> <span class="nav-text">参考文献</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="57uv6Z6g"
      src="/assets/images/avatar.gif">
  <p class="site-author-name" itemprop="name">57uv6Z6g</p>
  <div class="site-description" itemprop="description">5o2V5o2J5LiA5Y+q54ix5oqY6IW+55qE57uv6Z6g</div>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="mailto:00-isomer-cabbies@icloud.com" title="E-Mail → mailto:00-isomer-cabbies@icloud.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://t.me/LittleSweetCookie" title="Telegram → https:&#x2F;&#x2F;t.me&#x2F;LittleSweetCookie" rel="noopener me" target="_blank"><i class="fab fa-telegram fa-fw"></i>Telegram</a>
      </span>
  </div>

<div id="aplayer-app"></div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://loli.fj.cn/2022/02/26/Android%E6%8E%A7%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/assets/images/avatar.gif">
      <meta itemprop="name" content="57uv6Z6g">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="57uv6Z6g55qE5Y2a5a6i">
      <meta itemprop="description" content="5o2V5o2J5LiA5Y+q54ix5oqY6IW+55qE57uv6Z6g">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="【笔记】Android控件 | 57uv6Z6g55qE5Y2a5a6i">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【笔记】Android控件
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-26 11:14:44" itemprop="dateCreated datePublished" datetime="2022-02-26T11:14:44+08:00">2022-02-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-10-25 15:39:44" itemprop="dateModified" datetime="2025-10-25T15:39:44+08:00">2025-10-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Android%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8C%97/" itemprop="url" rel="index"><span itemprop="name">Android学习指北</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Android控件学习笔记</p>
<span id="more"></span>

<h2 id="xml头"><a href="#xml头" class="headerlink" title="xml头"></a>xml头</h2><figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="TextView文本组件"><a href="#TextView文本组件" class="headerlink" title="TextView文本组件"></a>TextView文本组件</h2><h3 id="基本属性设置"><a href="#基本属性设置" class="headerlink" title="基本属性设置"></a>基本属性设置</h3><p><em>&#x2F;app&#x2F;src&#x2F;main&#x2F;res&#x2F;layout&#x2F;activity_main.xml</em></p>
<blockquote>
<p><code>android:layout_width=&quot;&quot;</code>：设置组件宽度<br><code>android:layout_height=&quot;&quot;</code>：设置组件高度</p>
<blockquote>
<p><code>match_parent</code>：根据父级容器决定尺寸<br><code>wrap_content</code>：自动决定尺寸<br><code>数字dp</code>：手动决定尺寸，dp：屏幕密度</p>
</blockquote>
<p><code>android:id=&quot;@+id/编号&quot;</code>：编号<br><code>android:text=&quot;&quot;</code>：设置文本内容<br><code>android:textColor=&quot;#FF000000&quot;</code>：设置文字颜色，通过argb设置<br><code>android:textStyle=&quot;&quot;</code>：设置文字风格</p>
<blockquote>
<p><code>bold</code>：加粗<br><code>italic</code>：斜体<br><code>normal</code>：缺省值，无效果</p>
</blockquote>
<p><code>android:textSize=&quot;数字sp&quot;</code>：设置文字大小<br><code>android:background=&quot;#FF000000&quot;</code>：设置背景颜色，通过argb设置<br><code>android:gravity=&quot;&quot;</code>：设置内容对齐方向</p>
<blockquote>
<p><code>left</code>：居左<br><code>center</code>：居中<br><code>right</code>：居右<br><code>top</code>：居顶<br><code>bottom</code>：居底</p>
</blockquote>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="阴影设置"><a href="#阴影设置" class="headerlink" title="阴影设置"></a>阴影设置</h3><p><em>&#x2F;app&#x2F;src&#x2F;main&#x2F;res&#x2F;layout&#x2F;activity_main.xml</em></p>
<blockquote>
<p><code>android:shadowColor=&quot;&quot;</code>：设置阴影颜色，需要与shadowRadius一起使用<br><code>android:shadowRadius=&quot;&quot;</code>：设置模糊。建议使用3.0<br><code>android:shadowDx=&quot;&quot;</code>：设置阴影水平偏移量<br><code>android:shadowDy=&quot;&quot;</code>：设置阴影垂直偏移量</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shadowColor</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shadowRadius</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shadowDx</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shadowDy</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="跑马灯效果"><a href="#跑马灯效果" class="headerlink" title="跑马灯效果"></a>跑马灯效果</h3><p><em>&#x2F;app&#x2F;src&#x2F;main&#x2F;res&#x2F;layout&#x2F;activity_main.xml</em></p>
<blockquote>
<p><code>android:singleLine=&quot;true&quot;</code>：内容单行显示，防止换行<br><code>android:ellipsize=&quot;&quot;</code>：省略文本的位置</p>
<blockquote>
<p><code>marquee</code>：跑马灯效果<br><code>start</code>：在开始省略<br><code>end</code>：在末尾省略<br><code>middle</code>：在中间省略<br><code>none</code>：缺省值，超出部分不省略</p>
</blockquote>
<p><code>android:marqueeRepeatLimit=&quot;&quot;</code>：重复次数</p>
<blockquote>
<p><code>marquee_forever</code>：一直重复</p>
</blockquote>
<p><code>android:focusable=&quot;true&quot;</code>：允许获取焦点<br><code>android:focusableInTouchMode=&quot;true&quot;</code>：触摸模式下允许获取焦点</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:singleLine</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:ellipsize</span>=<span class="string">&quot;marquee&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:marqueeRepeatLimit</span>=<span class="string">&quot;marquee_forever&quot;</span></span></span><br><span class="line"><span class="tag">    </span></span><br><span class="line"><span class="tag">    <span class="attr">android:focusable</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:focusableInTouchMode</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="通过Java设置控件属性"><a href="#通过Java设置控件属性" class="headerlink" title="通过Java设置控件属性"></a>通过Java设置控件属性</h3><p><em>&#x2F;app&#x2F;src&#x2F;main&#x2F;java&#x2F;…&#x2F;MainActivity.java</em></p>
<h4 id="通过id获取控件对象"><a href="#通过id获取控件对象" class="headerlink" title="通过id获取控件对象"></a>通过id获取控件对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TextView</span> <span class="variable">textView</span> <span class="operator">=</span> findViewById(R.id.编号);</span><br></pre></td></tr></table></figure>

<h4 id="通过Java对象设置属性"><a href="#通过Java对象设置属性" class="headerlink" title="通过Java对象设置属性"></a>通过Java对象设置属性</h4><ul>
<li>Java设置的属性会覆盖标签的属性</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">textView.setText(<span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="使用常量池中字符串的常量"><a href="#使用常量池中字符串的常量" class="headerlink" title="使用常量池中字符串的常量"></a>使用常量池中字符串的常量</h3><h4 id="添加字符串常量"><a href="#添加字符串常量" class="headerlink" title="添加字符串常量"></a>添加字符串常量</h4><figure class="highlight xml"><figcaption><span>/app/src/main/res/values/strings.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;键&quot;</span>&gt;</span>值<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="使用字符串常量"><a href="#使用字符串常量" class="headerlink" title="使用字符串常量"></a>使用字符串常量</h4><figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">&quot;@string/键&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="使用常量池中颜色的常量"><a href="#使用常量池中颜色的常量" class="headerlink" title="使用常量池中颜色的常量"></a>使用常量池中颜色的常量</h3><h4 id="添加颜色常量"><a href="#添加颜色常量" class="headerlink" title="添加颜色常量"></a>添加颜色常量</h4><figure class="highlight xml"><figcaption><span>/app/src/main/res/values/colors.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">&quot;pink&quot;</span>&gt;</span>#FFFC94AF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="使用颜色常量"><a href="#使用颜色常量" class="headerlink" title="使用颜色常量"></a>使用颜色常量</h4><figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textColor</span>=<span class="string">&quot;@color/pink&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Button按钮组件"><a href="#Button按钮组件" class="headerlink" title="Button按钮组件"></a>Button按钮组件</h2><ul>
<li>Button继承自TextView，所以TextView拥有的属性Button也同样拥有</li>
</ul>
<figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h3><ul>
<li>旧版本gradle会出现修改按钮颜色失效的问题</li>
</ul>
<h4 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h4><ul>
<li>把<code>/app/src/main/res/values/themes.xml</code>文件中的<br><code>Theme.MaterialComponents.DayNight.DarkActionBar</code><br>改为<br><code>Theme.MaterialComponents.DayNight.DarkActionBar.Bridge</code></li>
</ul>
<h3 id="按下Button实现不同的背景色"><a href="#按下Button实现不同的背景色" class="headerlink" title="按下Button实现不同的背景色"></a>按下Button实现不同的背景色</h3><h4 id="创建一个图片选择器"><a href="#创建一个图片选择器" class="headerlink" title="创建一个图片选择器"></a>创建一个图片选择器</h4><ul>
<li>在<code>/app/src/main/res/drawable</code>目录下创建一个<code>Drawable Resource File</code>文件</li>
<li>在<code>/app/src/main/res/drawable</code>目录下添加xml格式的图片</li>
</ul>
<p>右键res目录-&gt;<code>New</code>-&gt;<code>Vector Assset</code></p>
<ul>
<li>有<code>android:state_pressed=&quot;true&quot;</code>标记的标签是点击后的图片</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">&quot;@drawable/ic_like&quot;</span> <span class="attr">android:state_pressed</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">&quot;@drawable/ic_sugar&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="踩坑-1"><a href="#踩坑-1" class="headerlink" title="踩坑"></a>踩坑</h5><ul>
<li>在<code>/app/src/main/res/drawable/btn_selector.xml</code>文件中，应该先写变化后的item，后写还原后的item，不可以改变顺序</li>
</ul>
<h4 id="使用图片选择器"><a href="#使用图片选择器" class="headerlink" title="使用图片选择器"></a>使用图片选择器</h4><figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@drawable/btn_selector&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="按钮事件"><a href="#按钮事件" class="headerlink" title="按钮事件"></a>按钮事件</h3><h4 id="通过XML设置按钮事件"><a href="#通过XML设置按钮事件" class="headerlink" title="通过XML设置按钮事件"></a>通过XML设置按钮事件</h4><h5 id="点击事件"><a href="#点击事件" class="headerlink" title="点击事件"></a>点击事件</h5><blockquote>
<p><code>click</code>：对应java方法名</p>
</blockquote>
<figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:onClick</span>=<span class="string">&quot;click&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click</span><span class="params">(View view)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="通过Java设置按钮事件"><a href="#通过Java设置按钮事件" class="headerlink" title="通过Java设置按钮事件"></a>通过Java设置按钮事件</h4><ul>
<li>通过Java获取组件对象</li>
</ul>
<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span> <span class="variable">btn</span> <span class="operator">=</span> findViewById(R.id.btn);</span><br></pre></td></tr></table></figure>

<h5 id="点击事件-1"><a href="#点击事件-1" class="headerlink" title="点击事件"></a>点击事件</h5><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">btn.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="长按事件"><a href="#长按事件" class="headerlink" title="长按事件"></a>长按事件</h5><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">btn.setOnLongClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnLongClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onLongClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="触摸事件"><a href="#触摸事件" class="headerlink" title="触摸事件"></a>触摸事件</h5><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">btn.setOnTouchListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnTouchListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onTouch</span><span class="params">(View view, MotionEvent motionEvent)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h6 id="触摸的具体操作"><a href="#触摸的具体操作" class="headerlink" title="触摸的具体操作"></a>触摸的具体操作</h6><blockquote>
<p><code>motionEvent.getAction()</code>：获取触摸的具体操作</p>
<blockquote>
<p><code>0</code>：down按下<br><code>2</code>：move在按下后移动<br><code>1</code>：on松手</p>
</blockquote>
</blockquote>
<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">btn.setOnTouchListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnTouchListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onTouch</span><span class="params">(View view, MotionEvent motionEvent)</span> &#123;</span><br><span class="line">        System.out.println(motionEvent.getAction());</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="打印日志"><a href="#打印日志" class="headerlink" title="打印日志"></a>打印日志</h5><blockquote>
<p><code>TAG</code>：表示标记的常量<br><code>&lt;str&gt;</code>：日志内容字符串</p>
</blockquote>
<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Log.e(TAG, &lt;str&gt;);</span><br></pre></td></tr></table></figure>

<h2 id="EditText表单组件"><a href="#EditText表单组件" class="headerlink" title="EditText表单组件"></a>EditText表单组件</h2><ul>
<li>EditText继承自TextView，所以TextView拥有的属性EditText也同样拥有</li>
</ul>
<blockquote>
<p><code>android:hint=&quot;&quot;</code>：输入框提示文字<br><code>android:textColorHint=&quot;&quot;</code>：提示文字颜色<br><code>android:inputType=&quot;&quot;</code>：输入框类型</p>
<blockquote>
<p><code>text</code>：文本<br><code>number</code>：数字，只弹出数字输入法<br><code>phone</code>：电话，只弹出数字输入法<br><code>textPassword</code>：文本密码<br><code>numberPassword</code>：数字密码</p>
</blockquote>
<p><code>android:drawableLeft=&quot;&quot;</code>：在左侧添加图标<br><code>android:drawableRight=&quot;&quot;</code>：在右侧添加图标<br><code>android:drawableTop=&quot;&quot;</code>：在顶部添加图标<br><code>android:drawableBottom=&quot;&quot;</code>：在底部添加图标<br><code>android:drawablePadding=&quot;&quot;</code>：图片与输入框的间距</p>
</blockquote>
<blockquote>
<p><code>android:padding=&quot;&quot;</code>：输入框与外框四周的内边距<br><code>android:paddingLeft=&quot;&quot;</code>：输入框与外框左侧的内边距<br><code>android:paddingRight=&quot;&quot;</code>：输入框与外框右侧的内边距<br><code>android:paddingTop=&quot;&quot;</code>：输入框与外框顶部的内边距<br><code>android:paddingBottom=&quot;&quot;</code>：输入框与外框顶部的内边距</p>
</blockquote>
<figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="获取输入框内容"><a href="#获取输入框内容" class="headerlink" title="获取输入框内容"></a>获取输入框内容</h3><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">EditText</span> <span class="variable">editText</span> <span class="operator">=</span> findViewById(R.id.et);</span><br><span class="line">editText.getText().toString();</span><br></pre></td></tr></table></figure>

<h2 id="ImageView图片组件"><a href="#ImageView图片组件" class="headerlink" title="ImageView图片组件"></a>ImageView图片组件</h2><ul>
<li>图片资源放在<code>/app/src/main/res/drawable</code></li>
</ul>
<blockquote>
<p><code>android:src=&quot;&quot;</code>：图片路径<br><code>android:scaleType=&quot;&quot;</code>：图片缩放类型</p>
<blockquote>
<p><code>fitCenter</code>：缺省值，保持宽高比缩放图片，直到较长的边与Image的边长相等，缩放完成后将图片放在ImageView的中间<br><code>fitStart</code>：保持宽高比缩放图片，直到较长的边与Image的边长相等，缩放完成后将图片放在ImageView的左上角<br><code>fitEnd</code>：保持宽高比缩放图片，直到较长的边与Image的边长相等，缩放完成后将图片放在ImageView的右下角<br><code>fitXY</code>：强制缩放到满，有可能不等比例<br><code>center</code>：保持原图大小，显示在ImageView的中心，如果原图过大，可能会被裁剪<br><code>centerCrop</code>：等比例缩放到满，显示在ImageView的中心，如果原图不等比例，可能会被裁减<br><code>centerInside</code>：等比例缩放到满，显示在ImageView的中心，不会被裁剪<br><code>matrix</code>：保持原图大小，显示在ImageView的左上角，如果原图过大，可能会被裁剪</p>
</blockquote>
<p><code>android:maxWidth=&quot;&quot;</code>：最大宽度<br><code>android:maxHeight=&quot;&quot;</code>：最大高度<br><code>android:minWidth=&quot;&quot;</code>：最小宽度<br><code>android:minHeight=&quot;&quot;</code>：最小高度<br><code>android:adjustViewBounds=&quot;&quot;</code>：根据最大宽高，自动调整View的界限为图片宽高</p>
</blockquote>
<figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="ProgressBar进度条"><a href="#ProgressBar进度条" class="headerlink" title="ProgressBar进度条"></a>ProgressBar进度条</h2><blockquote>
<p><code>style=&quot;?android:attr/progressBarStyleHorizontal&quot;</code>：改为水平进度条<br><code>android:max=&quot;&quot;</code>：进度条最大值<br><code>android:progress=&quot;&quot;</code>：进度条已完成进度<br><code>android:indeterminate=&quot;true&quot;</code>：进度条不显示进度</p>
</blockquote>
<figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="改变进度条状态"><a href="#改变进度条状态" class="headerlink" title="改变进度条状态"></a>改变进度条状态</h3><h4 id="获取进度条对象"><a href="#获取进度条对象" class="headerlink" title="获取进度条对象"></a>获取进度条对象</h4><figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/pb&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ProgressBar</span> <span class="variable">progressBar</span> <span class="operator">=</span> findViewById(R.id.pb);</span><br></pre></td></tr></table></figure>

<h4 id="查看当前进度条状态"><a href="#查看当前进度条状态" class="headerlink" title="查看当前进度条状态"></a>查看当前进度条状态</h4><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">progressBar.getVisibility();</span><br></pre></td></tr></table></figure>

<h4 id="改为隐藏"><a href="#改为隐藏" class="headerlink" title="改为隐藏"></a>改为隐藏</h4><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">progressBar.setVisibility(View.GONE);</span><br></pre></td></tr></table></figure>

<h4 id="改为显示"><a href="#改为显示" class="headerlink" title="改为显示"></a>改为显示</h4><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">progressBar.setVisibility(View.VISIBLE);</span><br></pre></td></tr></table></figure>

<h2 id="Notification通知"><a href="#Notification通知" class="headerlink" title="Notification通知"></a>Notification通知</h2><h3 id="发送通知"><a href="#发送通知" class="headerlink" title="发送通知"></a>发送通知</h3><blockquote>
<p><code>&lt;id&gt;</code>：设置一个id，前后id需保持一致<br><code>&lt;msg&gt;</code>：通知名称<br><code>&lt;level&gt;</code>：通知的重要程度<br><code>.&lt;init&gt;</code>：通过链式结构配置通知</p>
</blockquote>
<table>
<thead>
<tr>
<th><code>&lt;level&gt;</code></th>
<th>是否开启通知</th>
<th>是否弹出</th>
<th>是否有提示音</th>
<th>是否状态栏中显示</th>
</tr>
</thead>
<tbody><tr>
<td><code>NotificationManager.IMPORTANCE_NONE</code></td>
<td>×</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><code>NotificationManager.IMPORTANCE_MIN</code></td>
<td>√</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td><code>NotificationManager.IMPORTANCE_LOW</code></td>
<td>√</td>
<td>×</td>
<td>×</td>
<td>√</td>
</tr>
<tr>
<td><code>NotificationManager.IMPORTANCE_DEFAULT</code></td>
<td>√</td>
<td>×</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td><code>NotificationManager.IMPORTANCE_HIGH</code></td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th><code>.&lt;init&gt;</code></th>
<th>是否必选</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><code>.setContentTitle(&quot;&quot;)</code></td>
<td>必选</td>
<td>设置标题</td>
</tr>
<tr>
<td><code>.setContentText(&quot;&quot;)</code></td>
<td>必选</td>
<td>设置内容</td>
</tr>
<tr>
<td><code>.setSmallIcon(R.drawable.ic_图片名)</code></td>
<td>必选</td>
<td>设置小图标，必须为alpha图层，不可以包含RGB图层</td>
</tr>
<tr>
<td><code>.setColor()</code></td>
<td>可选</td>
<td>设置小图标的颜色</td>
</tr>
<tr>
<td><code>.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_图片名))</code></td>
<td>可选</td>
<td>设置大图标</td>
</tr>
<tr>
<td><code>.setContentIntent()</code></td>
<td>可选</td>
<td>设置点击通知的跳转意图</td>
</tr>
<tr>
<td><code>.setAutoCancel(true)</code></td>
<td>可选</td>
<td>设置点击后自动清除</td>
</tr>
<tr>
<td><code>.setWhen()</code></td>
<td>可选</td>
<td>设置通知创建时间，默认为当前时间</td>
</tr>
</tbody></table>
<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通知管理器</span></span><br><span class="line"><span class="type">NotificationManager</span> <span class="variable">notificationManager</span> <span class="operator">=</span> (NotificationManager) getSystemService(NOTIFICATION_SERVICE);</span><br><span class="line"><span class="comment">// 判断系统版本是否大于8.0，为大于8.0版本的程序添加通知渠道</span></span><br><span class="line"><span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) &#123;</span><br><span class="line">    <span class="type">NotificationChannel</span> <span class="variable">notificationChannel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotificationChannel</span>(<span class="string">&quot;&lt;id&gt;&quot;</span>, <span class="string">&quot;&lt;msg&gt;&quot;</span>, &lt;level&gt;);</span><br><span class="line">    notificationManager.createNotificationChannel(notificationChannel);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建通知</span></span><br><span class="line"><span class="type">Notification</span> <span class="variable">notification</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotificationCompat</span>.Builder(<span class="built_in">this</span>, <span class="string">&quot;&lt;id&gt;&quot;</span>)</span><br><span class="line">        .setContentTitle(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        .setContentText(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        .setSmallIcon(R.drawable.ic_)</span><br><span class="line">        .&lt;init&gt;</span><br><span class="line">        .build();</span><br><span class="line"><span class="comment">// 发送通知</span></span><br><span class="line">notificationManager.notify(<span class="number">1</span>, notification);</span><br></pre></td></tr></table></figure>

<h4 id="添加通知的意图"><a href="#添加通知的意图" class="headerlink" title="添加通知的意图"></a>添加通知的意图</h4><h5 id="创建一个Activity类"><a href="#创建一个Activity类" class="headerlink" title="创建一个Activity类"></a>创建一个Activity类</h5><ul>
<li>创建一个<code>NotificationActivity</code>类，继承<code>Activity</code>类，并实现<code>onCreate()</code>方法</li>
</ul>
<figure class="highlight java"><figcaption><span>/app/src/main/java/.../NotificationActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NotificationActivity</span> <span class="keyword">extends</span> <span class="title class_">Activity</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(<span class="meta">@Nullable</span> Bundle savedInstanceState)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        <span class="comment">// 添加意图</span></span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="注册Activity"><a href="#注册Activity" class="headerlink" title="注册Activity"></a>注册Activity</h5><figure class="highlight xml"><figcaption><span>/app/src/main/AndroidManifest.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">  &lt;<span class="attr">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.NotificationActivity&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="为通知添加意图"><a href="#为通知添加意图" class="headerlink" title="为通知添加意图"></a>为通知添加意图</h5><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通知管理器</span></span><br><span class="line"><span class="type">NotificationManager</span> <span class="variable">notificationManager</span> <span class="operator">=</span> (NotificationManager) getSystemService(NOTIFICATION_SERVICE);</span><br><span class="line"><span class="comment">// 判断系统版本是否大于8.0，为大于8.0版本的程序添加通知渠道</span></span><br><span class="line"><span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) &#123;</span><br><span class="line">    <span class="type">NotificationChannel</span> <span class="variable">notificationChannel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotificationChannel</span>(<span class="string">&quot;&lt;id&gt;&quot;</span>, <span class="string">&quot;&lt;msg&gt;&quot;</span>, &lt;level&gt;);</span><br><span class="line">    notificationManager.createNotificationChannel(notificationChannel);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(<span class="built_in">this</span>, NotificationActivity.class);</span><br><span class="line"><span class="type">PendingIntent</span> <span class="variable">pendingIntent</span> <span class="operator">=</span> PendingIntent.getActivity(<span class="built_in">this</span>, <span class="number">0</span>, intent, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// 创建通知</span></span><br><span class="line"><span class="type">Notification</span> <span class="variable">notification</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotificationCompat</span>.Builder(<span class="built_in">this</span>, <span class="string">&quot;&lt;id&gt;&quot;</span>)</span><br><span class="line">        .setContentTitle(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        .setContentText(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        .setSmallIcon(R.drawable.ic_)</span><br><span class="line">        .setContentIntent(pendingIntent) <span class="comment">// 添加意图</span></span><br><span class="line">        .setAutoCancel(<span class="literal">true</span>) <span class="comment">// 点击后自动清除</span></span><br><span class="line">        .build();</span><br><span class="line"><span class="comment">// 发送通知</span></span><br><span class="line">notificationManager.notify(<span class="number">1</span>, notification);</span><br></pre></td></tr></table></figure>

<h3 id="取消通知"><a href="#取消通知" class="headerlink" title="取消通知"></a>取消通知</h3><p><em>&#x2F;app&#x2F;src&#x2F;main&#x2F;java&#x2F;…&#x2F;MainActivity.java</em></p>
<blockquote>
<p><code>1</code>：这个id需要与上面发起通知时的id保持相同</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notificationManager.cancel(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h2 id="ToolBar导航栏"><a href="#ToolBar导航栏" class="headerlink" title="ToolBar导航栏"></a>ToolBar导航栏</h2><ul>
<li>通过替换ActionBar为ToolBar，实现自定义导航栏</li>
</ul>
<h3 id="清除自带的ActionBar"><a href="#清除自带的ActionBar" class="headerlink" title="清除自带的ActionBar"></a>清除自带的ActionBar</h3><ul>
<li>将<code>/app/src/main/res/values/themes.xml</code>文件的<code>Theme.MaterialComponents.DayNight.DarkActionBar</code>改为<code>Theme.MaterialComponents.DayNight.NoActionBar</code></li>
</ul>
<h3 id="添加ToolBar"><a href="#添加ToolBar" class="headerlink" title="添加ToolBar"></a>添加ToolBar</h3><blockquote>
<p><code>app:navigationIcon=&quot;@drawable/ic_图片名&quot;</code>：导航栏图标，通常设置成返回的图标<br><code>app:title=&quot;&quot;</code>：标题<br><code>app:titleTextColor=&quot;&quot;</code>：标题文字颜色<br><code>app:titleMarginStart=&quot;&quot;</code>：标题左外间距<br><code>app:titleMarginEnd=&quot;&quot;</code>：标题右外间距<br><code>app:titleMarginBottom=&quot;&quot;</code>：标题下外间距<br><code>app:subtitle=&quot;&quot;</code>：副标题<br><code>app:subtitleTextColor=&quot;&quot;</code>：副标题文字颜色<br><code>app:logo=&quot;@drawable/ic_图片名&quot;</code>：软件在导航栏的图标</p>
</blockquote>
<figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.appcompat.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;?attr/actionBarSize&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="点击效果"><a href="#点击效果" class="headerlink" title="点击效果"></a>点击效果</h4><figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.appcompat.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/tb&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;?attr/actionBarSize&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Toolbar</span> <span class="variable">toolbar</span> <span class="operator">=</span> findViewById(R.id.tb);</span><br><span class="line">toolbar.setNavigationOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="设置居中的标题"><a href="#设置居中的标题" class="headerlink" title="设置居中的标题"></a>设置居中的标题</h4><figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.appcompat.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;?attr/actionBarSize&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.appcompat.widget.Toolbar</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="AlertDialog对话框"><a href="#AlertDialog对话框" class="headerlink" title="AlertDialog对话框"></a>AlertDialog对话框</h2><blockquote>
<p><code>.setIcon(R.drawable.ic_图片名)</code>：设置对话框图标<br><code>.setTitle(&quot;&quot;)</code>：设置对话框标题<br><code>.setMessage(&quot;&quot;)</code>：设置对话框内容</p>
</blockquote>
<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AlertDialog.<span class="type">Builder</span> <span class="variable">alertDialogBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AlertDialog</span>.Builder(<span class="built_in">this</span>);</span><br><span class="line">alertDialogBuilder</span><br><span class="line">        .setIcon(R.drawable.ic_)</span><br><span class="line">        .setTitle(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        .setMessage(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        .create() <span class="comment">// 创建对话框</span></span><br><span class="line">        .show(); <span class="comment">// 显示对话框</span></span><br></pre></td></tr></table></figure>

<h3 id="添加按钮"><a href="#添加按钮" class="headerlink" title="添加按钮"></a>添加按钮</h3><h4 id="添加左下角按钮"><a href="#添加左下角按钮" class="headerlink" title="添加左下角按钮"></a>添加左下角按钮</h4><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">AlertDialog.<span class="type">Builder</span> <span class="variable">alertDialogBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AlertDialog</span>.Builder(<span class="built_in">this</span>);</span><br><span class="line">alertDialogBuilder</span><br><span class="line">        .setNeutralButton(<span class="string">&quot;跳过&quot;</span>, <span class="keyword">new</span> <span class="title class_">DialogInterface</span>.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(DialogInterface dialogInterface, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">  </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .create() <span class="comment">// 创建对话框</span></span><br><span class="line">        .show(); <span class="comment">// 显示对话框</span></span><br></pre></td></tr></table></figure>

<h4 id="添加右下角左侧按钮"><a href="#添加右下角左侧按钮" class="headerlink" title="添加右下角左侧按钮"></a>添加右下角左侧按钮</h4><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">AlertDialog.<span class="type">Builder</span> <span class="variable">alertDialogBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AlertDialog</span>.Builder(<span class="built_in">this</span>);</span><br><span class="line">alertDialogBuilder</span><br><span class="line">        .setNegativeButton(<span class="string">&quot;取消&quot;</span>, <span class="keyword">new</span> <span class="title class_">DialogInterface</span>.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(DialogInterface dialogInterface, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">  </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .create() <span class="comment">// 创建对话框</span></span><br><span class="line">        .show(); <span class="comment">// 显示对话框</span></span><br></pre></td></tr></table></figure>

<h4 id="添加右下角右侧按钮"><a href="#添加右下角右侧按钮" class="headerlink" title="添加右下角右侧按钮"></a>添加右下角右侧按钮</h4><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">AlertDialog.<span class="type">Builder</span> <span class="variable">alertDialogBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AlertDialog</span>.Builder(<span class="built_in">this</span>);</span><br><span class="line">alertDialogBuilder</span><br><span class="line">        .setPositiveButton(<span class="string">&quot;确定&quot;</span>, <span class="keyword">new</span> <span class="title class_">DialogInterface</span>.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(DialogInterface dialogInterface, <span class="type">int</span> i)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .create() <span class="comment">// 创建对话框</span></span><br><span class="line">        .show(); <span class="comment">// 显示对话框</span></span><br></pre></td></tr></table></figure>

<h3 id="添加布局"><a href="#添加布局" class="headerlink" title="添加布局"></a>添加布局</h3><h4 id="创建一个布局"><a href="#创建一个布局" class="headerlink" title="创建一个布局"></a>创建一个布局</h4><ul>
<li>在<code>/app/src/main/res/layout/</code>目录下创建一个<code>dialog\_view.xml</code></li>
</ul>
<figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="将dialog-view-xml布局放到对话框"><a href="#将dialog-view-xml布局放到对话框" class="headerlink" title="将dialog_view.xml布局放到对话框"></a>将dialog_view.xml布局放到对话框</h4><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">AlertDialog.<span class="type">Builder</span> <span class="variable">alertDialogBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AlertDialog</span>.Builder(<span class="built_in">this</span>);</span><br><span class="line">alertDialogBuilder</span><br><span class="line">        .setView(getLayoutInflater().inflate(R.layout.dialog_view, <span class="literal">null</span>))</span><br><span class="line">        .create() <span class="comment">// 创建对话框</span></span><br><span class="line">        .show(); <span class="comment">// 显示对话框</span></span><br></pre></td></tr></table></figure>

<h2 id="PopupWindow弹出窗口"><a href="#PopupWindow弹出窗口" class="headerlink" title="PopupWindow弹出窗口"></a>PopupWindow弹出窗口</h2><h3 id="创建一个布局用来弹出"><a href="#创建一个布局用来弹出" class="headerlink" title="创建一个布局用来弹出"></a>创建一个布局用来弹出</h3><ul>
<li>在<code>/app/src/main/res/layout/</code>目录下创建一个<code>popup\_view.xml</code>布局文件用来测试</li>
</ul>
<figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/popup_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;200dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;200dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@mipmap/ic_launcher&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="创建一个按钮用来弹出窗口"><a href="#创建一个按钮用来弹出窗口" class="headerlink" title="创建一个按钮用来弹出窗口"></a>创建一个按钮用来弹出窗口</h3><figure class="highlight xml"><figcaption><span>/app/src/main/res/layout/activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:onClick</span>=<span class="string">&quot;click&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="创建PopupWindow"><a href="#创建PopupWindow" class="headerlink" title="创建PopupWindow"></a>创建PopupWindow</h3><h4 id="窗口无偏移，显示在正下方"><a href="#窗口无偏移，显示在正下方" class="headerlink" title="窗口无偏移，显示在正下方"></a>窗口无偏移，显示在正下方</h4><ul>
<li>在click方法中，创建PopupWindow，在按钮下方弹出次</li>
</ul>
<p>既可以使用构造方法初始化窗口，也可以使用无参构造创建对象后，再使用set方法进行初始化</p>
<blockquote>
<p><code>getLayoutInflater().inflate(R.layout.popup_view, null)</code>：设置弹出窗口的布局<br><code>ViewGroup.LayoutParams.WRAP_CONTENT</code>：将弹出窗口的宽高都设置为自动<code>wrap_content</code>。如果需要手动设置，可以直接传递宽高</p>
</blockquote>
<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click</span><span class="params">(View view)</span> &#123;</span><br><span class="line">    <span class="type">PopupWindow</span> <span class="variable">popupWindow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PopupWindow</span>(getLayoutInflater().inflate(R.layout.popup_view, <span class="literal">null</span>), ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);</span><br><span class="line">    popupWindow.showAsDropDown(view);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="窗口有偏移"><a href="#窗口有偏移" class="headerlink" title="窗口有偏移"></a>窗口有偏移</h4><p><em>&#x2F;app&#x2F;src&#x2F;main&#x2F;java&#x2F;…&#x2F;MainActivity.java</em></p>
<blockquote>
<p><code>&lt;x&gt;</code>：水平偏移量<br><code>&lt;y&gt;</code>：垂直偏移量</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click</span><span class="params">(View view)</span> &#123;</span><br><span class="line">    <span class="type">PopupWindow</span> <span class="variable">popupWindow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PopupWindow</span>(getLayoutInflater().inflate(R.layout.popup_view, <span class="literal">null</span>), ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);</span><br><span class="line">    popupWindow.showAsDropDown(view, &lt;x&gt;, &lt;y&gt;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="点击空白处隐藏"><a href="#点击空白处隐藏" class="headerlink" title="点击空白处隐藏"></a>点击空白处隐藏</h4><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click</span><span class="params">(View view)</span> &#123;</span><br><span class="line">    <span class="type">PopupWindow</span> <span class="variable">popupWindow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PopupWindow</span>(getLayoutInflater().inflate(R.layout.popup_view, <span class="literal">null</span>), ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT, <span class="literal">true</span>);</span><br><span class="line">    popupWindow.showAsDropDown(view);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="关闭PopupWindow"><a href="#关闭PopupWindow" class="headerlink" title="关闭PopupWindow"></a>关闭PopupWindow</h3><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">popupWindow.dismiss();</span><br></pre></td></tr></table></figure>

<h3 id="点击空白处隐藏-1"><a href="#点击空白处隐藏-1" class="headerlink" title="点击空白处隐藏"></a>点击空白处隐藏</h3><figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">popupWindow.setFocusable(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<h3 id="设置背景"><a href="#设置背景" class="headerlink" title="设置背景"></a>设置背景</h3><ul>
<li>设置背景需要在显示之前</li>
</ul>
<figure class="highlight java"><figcaption><span>/app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">popupWindow.setBackgroundDrawable(getResources().getDrawable(R.drawable.ic_图片名));</span><br></pre></td></tr></table></figure>

<h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a href="/302.html?target=https://www.bilibili.com/video/BV13y4y1E7pF/">哔哩哔哩——Android架构解析</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div><svg class="coin" width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.045 25.5454C7.69377 25.5454 2.54504 20.3967 2.54504 14.0454C2.54504 7.69413 7.69377 2.54541 14.045 2.54541C20.3963 2.54541 25.545 7.69413 25.545 14.0454C25.545 17.0954 24.3334 20.0205 22.1768 22.1771C20.0201 24.3338 17.095 25.5454 14.045 25.5454ZM9.66202 6.81624H18.2761C18.825 6.81624 19.27 7.22183 19.27 7.72216C19.27 8.22248 18.825 8.62807 18.2761 8.62807H14.95V10.2903C17.989 10.4444 20.3766 12.9487 20.3855 15.9916V17.1995C20.3854 17.6997 19.9799 18.1052 19.4796 18.1052C18.9793 18.1052 18.5738 17.6997 18.5737 17.1995V15.9916C18.5667 13.9478 16.9882 12.2535 14.95 12.1022V20.5574C14.95 21.0577 14.5444 21.4633 14.0441 21.4633C13.5437 21.4633 13.1382 21.0577 13.1382 20.5574V12.1022C11.1 12.2535 9.52148 13.9478 9.51448 15.9916V17.1995C9.5144 17.6997 9.10883 18.1052 8.60856 18.1052C8.1083 18.1052 7.70273 17.6997 7.70265 17.1995V15.9916C7.71158 12.9487 10.0992 10.4444 13.1382 10.2903V8.62807H9.66202C9.11309 8.62807 8.66809 8.22248 8.66809 7.72216C8.66809 7.22183 9.11309 6.81624 9.66202 6.81624Z" fill="currentColor"></path></svg></div>
  <button>
    储钱罐
  </button>
  <div class="post-reward">
      <div>
        <img src="/assets/images/reward/images/wxpay.png" alt="57uv6Z6g 微信支付">
        <span>微信支付</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/alipay.png" alt="57uv6Z6g 支付宝">
        <span>支付宝</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/qqpay.png" alt="57uv6Z6g qqpay">
        <span>qqpay</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/bitcoin.png" alt="57uv6Z6g 比特币">
        <span>比特币</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/ethereum.png" alt="57uv6Z6g ethereum">
        <span>ethereum</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/monero.png" alt="57uv6Z6g monero">
        <span>monero</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/paypal.png" alt="57uv6Z6g 贝宝">
        <span>贝宝</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/Android/" rel="tag"># Android</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/02/25/Android%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/" rel="prev" title="【笔记】Android项目结构">
                  <i class="fa fa-angle-left"></i> 【笔记】Android项目结构
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/03/02/Android%E5%B8%83%E5%B1%80/" rel="next" title="【笔记】Android布局">
                  【笔记】Android布局 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments"><div id="twikoo-comments"></div></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2019 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">57uv6Z6g</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>
<div id="site-time"></div>


<div id="current-visitors-count"></div>


<div id="site-badge"></div>


<div id="loading-door-left"></div>
<div id="loading-door-right"></div>
<a id="loading-door-a" href="javascript:loadingDoorOpen();">芝麻开门</a>


<div id="waifu">
  <div id="waifu-tips"></div>
  <canvas id="live2d" width="800" height="800"></canvas>
</div>
<div id="waifu-toggle">
  <span>看板娘</span>
</div>


<link rel="stylesheet" href="/dist/bundle.css">


<script src="/dist/bundle.js"></script>


    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="twikoo" type="application/json">{"enable":true,"visitor":false,"envId":"https://twikoo.loli.fj.cn","jsUrl":"https://unpkg.com/twikoo@1.6.44/dist/twikoo.min.js","el":"#twikoo-comments"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.twikoo.el)
    .then(() => NexT.utils.getScript(
      CONFIG.twikoo.jsUrl || 'https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js',
      { condition: window.twikoo }
    ))
    .then(() => {
      twikoo.init(CONFIG.twikoo);
    });
});
</script>
<style>
.post-block, .comments {
  overflow: visible;
}
.tk-owo-emotion {
  display: inline-block;
}
</style>

</body>
</html>
