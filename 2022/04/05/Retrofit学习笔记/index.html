<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon-package/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-package/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-package/favicon-16x16.png">
  <link rel="mask-icon" href="/assets/images/favicon-package/safari-pinned-tab.svg" color="#222">
  <link rel="manifest" href="/assets/images/favicon-package/site.webmanifest">
  <meta name="google-site-verification" content="qIz-Tg08U6gyN_53z89yii0ZmKx2avfsO-iyOWhsRx8">
  <meta name="msvalidate.01" content="096F3D01D2AA04148F10750CD4566535">
  <meta name="yandex-verification" content="43f790b7e38394a4">
  <meta name="baidu-site-verification" content="codeva-LMZoUaXjJl">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="/lib/@fortawesome/fontawesome-free/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="/lib/animate.css/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"loli.fj.cn","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.23.2","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"atom-one-light","dark":"atom-one-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":"mac"},"fold":{"enable":true,"height":500},"language":true},"bookmark":{"enable":true,"color":"#222","save":"manual"},"mediumzoom":true,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="前言A type-safe HTTP client for Android and Java.（Github）">
<meta property="og:type" content="article">
<meta property="og:title" content="【笔记】Retrofit学习笔记">
<meta property="og:url" content="https://loli.fj.cn/2022/04/05/Retrofit%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="57uv6Z6g55qE5Y2a5a6i">
<meta property="og:description" content="前言A type-safe HTTP client for Android and Java.（Github）">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-04-05T02:09:17.000Z">
<meta property="article:modified_time" content="2025-10-25T07:39:44.915Z">
<meta property="article:author" content="57uv6Z6g">
<meta property="article:tag" content="Android">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://loli.fj.cn/2022/04/05/Retrofit%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://loli.fj.cn/2022/04/05/Retrofit%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","path":"2022/04/05/Retrofit学习笔记/","title":"【笔记】Retrofit学习笔记"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>【笔记】Retrofit学习笔记 | 57uv6Z6g55qE5Y2a5a6i</title>
  






  <script async defer data-website-id="981ed5a0-eea5-4426-a8a9-c16a789ccc3f" src="https://umami.loli.fj.cn/script.js" data-host-url="https://umami.loli.fj.cn/"></script>


  
  <script src="/lib/animejs/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="/lib/@next-theme/pjax/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
  <script src="/lib/medium-zoom/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous" defer></script>
  <script src="/lib/pangu/dist/browser/pangu.umd.js" integrity="sha256-erngBMP3zzoIM6eqQ8dmrReh2vqCRgWmORroIfVoDlE=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="/lib/hexo-generator-searchdb/dist/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>







  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"/lib/mathjax/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="57uv6Z6g55qE5Y2a5a6i" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">57uv6Z6g55qE5Y2a5a6i</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">MS4wLjABAAAA5qMD8Gzdcgq7HXUOviKB59i0-ybJ59jJvNzyaPt5XOsVNqP6DU7WLcoAXvdxvYdp💗<br><font color="red">本站所有文章仅作技术研究，请勿非法破坏，请遵守相关法律法规，后果自负</font></p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a></li><li class="menu-item menu-item-reward"><a href="/reward/" rel="section"><i class="fa fa-hand-holding-heart fa-fw"></i>赞助</a></li><li class="menu-item menu-item-command"><a href="/command/" rel="section"><i class="fa fa-book fa-fw"></i>指令</a></li><li class="menu-item menu-item-contribute"><a href="/contribute/" rel="section"><i class="fa fa-chart-line fa-fw"></i>贡献</a></li><li class="menu-item menu-item-rss"><a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>订阅</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

<link rel="manifest" href="/assets/images/favicon-package/site.webmanifest">

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%E6%8E%A5%E5%8F%A3"><span class="nav-number">2.</span> <span class="nav-text">创建发送请求接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.1.</span> <span class="nav-text">常用的注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Map%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.2.</span> <span class="nav-text">Map注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.3.</span> <span class="nav-text">@HTTP注解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8-HTTP%E6%B3%A8%E8%A7%A3%E5%AE%9A%E4%B9%89GET%E8%AF%B7%E6%B1%82"><span class="nav-number">2.3.1.</span> <span class="nav-text">利用@HTTP注解定义GET请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A9%E7%94%A8-HTTP%E6%B3%A8%E8%A7%A3%E5%AE%9A%E4%B9%89POST%E8%AF%B7%E6%B1%82"><span class="nav-number">2.3.2.</span> <span class="nav-text">利用@HTTP注解定义POST请求</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Path%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.4.</span> <span class="nav-text">@Path注解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E4%BC%A0%E9%80%92%E8%AF%B7%E6%B1%82%E5%9C%B0%E5%9D%80%E7%9A%84%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84%E9%83%A8%E5%88%86"><span class="nav-number">2.4.1.</span> <span class="nav-text">动态传递请求地址的资源路径部分</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8E-HTTP%E6%B3%A8%E8%A7%A3%E9%85%8D%E5%90%88%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95"><span class="nav-number">2.4.2.</span> <span class="nav-text">与@HTTP注解配合实现动态请求方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Header%E6%B3%A8%E8%A7%A3%E4%B8%8E-Headers%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.5.</span> <span class="nav-text">@Header注解与@Headers注解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Header%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.5.1.</span> <span class="nav-text">@Header注解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Headers%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.5.2.</span> <span class="nav-text">@Headers注解</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="nav-number">2.5.2.1.</span> <span class="nav-text">添加一个参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%A4%9A%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="nav-number">2.5.2.2.</span> <span class="nav-text">添加多个参数</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BARetrofit%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.</span> <span class="nav-text">创建Retrofit对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82"><span class="nav-number">3.1.</span> <span class="nav-text">发送GET请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%91%E9%80%81POST%E8%AF%B7%E6%B1%82"><span class="nav-number">3.2.</span> <span class="nav-text">发送POST请求</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#POST%E8%AF%B7%E6%B1%82%E4%BC%A0%E9%80%92JSON%E5%8F%82%E6%95%B0"><span class="nav-number">4.</span> <span class="nav-text">POST请求传递JSON参数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87JSON%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B4%E6%8E%A5%E4%BC%A0%E9%80%92%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">4.1.</span> <span class="nav-text">通过JSON格式的字符串直接传递字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87-Body%E6%B3%A8%E8%A7%A3%E4%BC%A0%E9%80%92RequestBody%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.2.</span> <span class="nav-text">通过@Body注解传递RequestBody对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81%E5%90%AB%E6%9C%89RequestBody%E7%9A%84POST%E8%AF%B7%E6%B1%82"><span class="nav-number">4.2.1.</span> <span class="nav-text">发送含有RequestBody的POST请求</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E5%AE%8C%E6%95%B4%E8%AF%B7%E6%B1%82%E5%9C%B0%E5%9D%80%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="nav-number">5.</span> <span class="nav-text">通过完整请求地址发送请求</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.1.</span> <span class="nav-text">定义接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="nav-number">5.2.</span> <span class="nav-text">发送请求</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82-1"><span class="nav-number">5.2.1.</span> <span class="nav-text">发送GET请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81POST%E8%AF%B7%E6%B1%82-1"><span class="nav-number">5.2.2.</span> <span class="nav-text">发送POST请求</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Retrofit%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="nav-number">6.</span> <span class="nav-text">Retrofit转换器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96"><span class="nav-number">6.1.</span> <span class="nav-text">添加依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="nav-number">6.2.</span> <span class="nav-text">创建一个实体类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8%E6%8E%A5%E5%8F%A3%E4%B8%AD%E7%9A%84%E6%B3%9B%E5%9E%8B%E7%9B%B4%E6%8E%A5%E5%AE%9A%E4%B9%89%E4%B8%BA%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="nav-number">6.3.</span> <span class="nav-text">在接口中的泛型直接定义为实体类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82-1"><span class="nav-number">6.4.</span> <span class="nav-text">发送请求</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD"><span class="nav-number">7.</span> <span class="nav-text">文件上传下载</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E6%8E%A5%E5%8F%A3-1"><span class="nav-number">7.1.</span> <span class="nav-text">定义接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD-1"><span class="nav-number">7.2.</span> <span class="nav-text">文件上传下载</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6"><span class="nav-number">7.2.1.</span> <span class="nav-text">上传文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6"><span class="nav-number">7.2.2.</span> <span class="nav-text">下载文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%8C%E6%88%90"><span class="nav-number">8.</span> <span class="nav-text">完成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="nav-number">9.</span> <span class="nav-text">参考文献</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="57uv6Z6g"
      src="/assets/images/avatar.gif">
  <p class="site-author-name" itemprop="name">57uv6Z6g</p>
  <div class="site-description" itemprop="description">5o2V5o2J5LiA5Y+q54ix5oqY6IW+55qE57uv6Z6g</div>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="mailto:00-isomer-cabbies@icloud.com" title="E-Mail → mailto:00-isomer-cabbies@icloud.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://t.me/LittleSweetCookie" title="Telegram → https:&#x2F;&#x2F;t.me&#x2F;LittleSweetCookie" rel="noopener me" target="_blank"><i class="fab fa-telegram fa-fw"></i>Telegram</a>
      </span>
  </div>

<div id="aplayer-app"></div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://loli.fj.cn/2022/04/05/Retrofit%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/assets/images/avatar.gif">
      <meta itemprop="name" content="57uv6Z6g">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="57uv6Z6g55qE5Y2a5a6i">
      <meta itemprop="description" content="5o2V5o2J5LiA5Y+q54ix5oqY6IW+55qE57uv6Z6g">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="【笔记】Retrofit学习笔记 | 57uv6Z6g55qE5Y2a5a6i">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【笔记】Retrofit学习笔记
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-04-05 10:09:17" itemprop="dateCreated datePublished" datetime="2022-04-05T10:09:17+08:00">2022-04-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-10-25 15:39:44" itemprop="dateModified" datetime="2025-10-25T15:39:44+08:00">2025-10-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Android%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8C%97/" itemprop="url" rel="index"><span itemprop="name">Android学习指北</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>A type-safe HTTP client for Android and Java.（<a href="/302.html?target=https://github.com/square/retrofit">Github</a>）</p>
<span id="more"></span>

<h2 id="创建发送请求接口"><a href="#创建发送请求接口" class="headerlink" title="创建发送请求接口"></a>创建发送请求接口</h2><ul>
<li>根据需要发送的请求，创建一个接口，接口名自定义</li>
</ul>
<h3 id="常用的注解"><a href="#常用的注解" class="headerlink" title="常用的注解"></a>常用的注解</h3><blockquote>
<p><code>/</code>：请求地址URL资源路径<br><code>@GET(&quot;&quot;)</code>：在接口上标注<code>@GET(&quot;&quot;)</code>表示发送GET请求，在注解参数中填写服务器接口请求地址，不需要涵盖域名<br><code>@Query(&quot;&quot;)</code>：使用GET请求传递参数时，需要在参数前添加<code>@Query()</code>注解，注解内指定发送请求时的参数名<br><code>@POST(&quot;&quot;)</code>：在接口上标注<code>@POST(&quot;&quot;)</code>表示发送POST请求，在注解参数中填写服务器接口请求地址，不需要涵盖域名<br><code>@Field(&quot;&quot;)</code>：使用POST请求传递参数时，如果是FormUrlEncoded的方式，需要在参数前添加<code>@Field()</code>注解，注解内指定发送请求时的参数名</p>
</blockquote>
<figure class="highlight java"><figcaption><span>app/src/main/java/.../HttpBinService.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> okhttp3.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> retrofit2.Call;</span><br><span class="line"><span class="keyword">import</span> retrofit2.http.Field;</span><br><span class="line"><span class="keyword">import</span> retrofit2.http.FormUrlEncoded;</span><br><span class="line"><span class="keyword">import</span> retrofit2.http.GET;</span><br><span class="line"><span class="keyword">import</span> retrofit2.http.POST;</span><br><span class="line"><span class="keyword">import</span> retrofit2.http.Query;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">HttpBinService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(&quot;/&quot;)</span></span><br><span class="line">    Call&lt;ResponseBody&gt; <span class="title function_">get</span><span class="params">(<span class="meta">@Query(&quot;username&quot;)</span> String username, <span class="meta">@Query(&quot;password&quot;)</span> String password)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@POST(&quot;/&quot;)</span></span><br><span class="line">    <span class="meta">@FormUrlEncoded</span></span><br><span class="line">    Call&lt;ResponseBody&gt; <span class="title function_">post</span><span class="params">(<span class="meta">@Field(&quot;username&quot;)</span> String username, <span class="meta">@Field(&quot;password&quot;)</span> String password)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Map注解"><a href="#Map注解" class="headerlink" title="Map注解"></a>Map注解</h3><ul>
<li>当定义多个请求参数时，可以使用Map集合传递参数</li>
</ul>
<figure class="highlight java"><figcaption><span>app/src/main/java/.../HttpBinService.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GET(&quot;/&quot;)</span></span><br><span class="line">Call&lt;ResponseBody&gt; <span class="title function_">GET</span><span class="params">(<span class="meta">@QueryMap</span> Map&lt;String, Object&gt; map)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><figcaption><span>app/src/main/java/.../HttpBinService.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@POST(&quot;/&quot;)</span></span><br><span class="line"><span class="meta">@FormUrlEncoded</span></span><br><span class="line">Call&lt;ResponseBody&gt; <span class="title function_">POST</span><span class="params">(<span class="meta">@FieldMap</span> Map&lt;String, Object&gt; map)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="HTTP注解"><a href="#HTTP注解" class="headerlink" title="@HTTP注解"></a>@HTTP注解</h3><ul>
<li><code>@HTTP</code>注解为更灵活的标注请求方法</li>
</ul>
<h4 id="利用-HTTP注解定义GET请求"><a href="#利用-HTTP注解定义GET请求" class="headerlink" title="利用@HTTP注解定义GET请求"></a>利用@HTTP注解定义GET请求</h4><blockquote>
<p><code>method = &quot;GET&quot;</code>：定义请求方法<br><code>path = &quot;&quot;</code>：定义请求地址<br><code>hasBody = false</code>：定义是否有请求体，默认不填为false</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HTTP(method = &quot;GET&quot;, path = &quot;/&quot;)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HTTP(method = &quot;GET&quot;, path = &quot;/&quot;, hasBody = false)</span></span><br></pre></td></tr></table></figure>

<h4 id="利用-HTTP注解定义POST请求"><a href="#利用-HTTP注解定义POST请求" class="headerlink" title="利用@HTTP注解定义POST请求"></a>利用@HTTP注解定义POST请求</h4><blockquote>
<p><code>method = &quot;POST&quot;</code>：定义请求方法<br><code>path = &quot;&quot;</code>：定义请求地址<br><code>hasBody = false</code>：定义是否有请求体，默认不填为false</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HTTP(method = &quot;POST&quot;, path = &quot;/&quot;)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HTTP(method = &quot;POST&quot;, path = &quot;/&quot;, hasBody = false)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HTTP(method = &quot;POST&quot;, path = &quot;/&quot;, hasBody = true)</span></span><br></pre></td></tr></table></figure>

<h3 id="Path注解"><a href="#Path注解" class="headerlink" title="@Path注解"></a>@Path注解</h3><ul>
<li><p>使用@Path注解可以实现向方法注解参数中传递变量</p>
</li>
<li><p><code>&#123;&#125;</code>内的参数需要与<code>@Path(&quot;&quot;)</code>内的参数相对应</p>
</li>
</ul>
<h4 id="动态传递请求地址的资源路径部分"><a href="#动态传递请求地址的资源路径部分" class="headerlink" title="动态传递请求地址的资源路径部分"></a>动态传递请求地址的资源路径部分</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HTTP(method = &quot;&quot;, path = &quot;&#123;pathname&#125;&quot;)</span></span><br><span class="line">Call&lt;ResponseBody&gt; <span class="title function_">get</span><span class="params">(<span class="meta">@Path(&quot;pathname&quot;)</span> String urlPathname)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="与-HTTP注解配合实现动态请求方法"><a href="#与-HTTP注解配合实现动态请求方法" class="headerlink" title="与@HTTP注解配合实现动态请求方法"></a>与@HTTP注解配合实现动态请求方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HTTP(method = &quot;&#123;method&#125;&quot;, path = &quot;&quot;)</span></span><br><span class="line">Call&lt;ResponseBody&gt; <span class="title function_">get</span><span class="params">(<span class="meta">@Path(&quot;method&quot;)</span> String method)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Header注解与-Headers注解"><a href="#Header注解与-Headers注解" class="headerlink" title="@Header注解与@Headers注解"></a>@Header注解与@Headers注解</h3><h4 id="Header注解"><a href="#Header注解" class="headerlink" title="@Header注解"></a>@Header注解</h4><ul>
<li>@Header注解用于在形参中传递请求头的参数</li>
</ul>
<blockquote>
<p><code>key</code>：请求头参数键<br><code>value</code>：请求头参数值形参</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GET(&quot;/&quot;)</span></span><br><span class="line">Call&lt;ResponseBody&gt; <span class="title function_">get</span><span class="params">(<span class="meta">@Header(&quot;key&quot;)</span> String value)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="Headers注解"><a href="#Headers注解" class="headerlink" title="@Headers注解"></a>@Headers注解</h4><ul>
<li>@Headers注解用于直接在方法上标注请求头所有参数</li>
</ul>
<h5 id="添加一个参数"><a href="#添加一个参数" class="headerlink" title="添加一个参数"></a>添加一个参数</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Headers(&quot;key:value&quot;)</span></span><br><span class="line"><span class="meta">@GET(&quot;/&quot;)</span></span><br><span class="line">Call&lt;ResponseBody&gt; <span class="title function_">get</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h5 id="添加多个参数"><a href="#添加多个参数" class="headerlink" title="添加多个参数"></a>添加多个参数</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Headers(&#123;&quot;key1:value1&quot;, &quot;key2:value2&quot;&#125;)</span></span><br><span class="line"><span class="meta">@GET(&quot;/&quot;)</span></span><br><span class="line">Call&lt;ResponseBody&gt; <span class="title function_">get</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h2 id="创建Retrofit对象"><a href="#创建Retrofit对象" class="headerlink" title="创建Retrofit对象"></a>创建Retrofit对象</h2><ul>
<li>创建Retrofit对象，并生成接口实现类对象</li>
</ul>
<blockquote>
<p><code>&lt;url&gt;</code>：请求地址URI的URL部分</p>
</blockquote>
<h3 id="发送GET请求"><a href="#发送GET请求" class="headerlink" title="发送GET请求"></a>发送GET请求</h3><figure class="highlight java"><figcaption><span>app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建Retrofit对象</span></span><br><span class="line"><span class="type">Retrofit</span> <span class="variable">retrofit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Retrofit</span>.Builder().baseUrl(<span class="string">&quot;&lt;url&gt;&quot;</span>).build();</span><br><span class="line"><span class="comment">// 通过Retrofit对象创建自定义接口的实现类对象</span></span><br><span class="line"><span class="type">HttpBinService</span> <span class="variable">httpBinService</span> <span class="operator">=</span> retrofit.create(HttpBinService.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过接口实现类对象发送GET请求</span></span><br><span class="line">Call&lt;ResponseBody&gt; responseBodyCall = httpBinService.get(<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">responseBodyCall.enqueue(<span class="keyword">new</span> <span class="title class_">Callback</span>&lt;ResponseBody&gt;() &#123;</span><br><span class="line">    <span class="comment">// 请求成功的回调方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResponse</span><span class="params">(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(response.body().string());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 请求失败的回调方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onFailure</span><span class="params">(Call&lt;ResponseBody&gt; call, Throwable t)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="发送POST请求"><a href="#发送POST请求" class="headerlink" title="发送POST请求"></a>发送POST请求</h3><figure class="highlight java"><figcaption><span>app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建Retrofit对象</span></span><br><span class="line"><span class="type">Retrofit</span> <span class="variable">retrofit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Retrofit</span>.Builder().baseUrl(<span class="string">&quot;&lt;url&gt;&quot;</span>).build();</span><br><span class="line"><span class="comment">// 通过Retrofit对象创建自定义接口的实现类对象</span></span><br><span class="line"><span class="type">HttpBinService</span> <span class="variable">httpBinService</span> <span class="operator">=</span> retrofit.create(HttpBinService.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过接口实现类对象发送POST请求</span></span><br><span class="line">Call&lt;ResponseBody&gt; responseBodyCall = httpBinService.post(<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">responseBodyCall.enqueue(<span class="keyword">new</span> <span class="title class_">Callback</span>&lt;ResponseBody&gt;() &#123;</span><br><span class="line">    <span class="comment">// 请求成功的回调方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResponse</span><span class="params">(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(response.body().string());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 请求失败的回调方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onFailure</span><span class="params">(Call&lt;ResponseBody&gt; call, Throwable t)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="POST请求传递JSON参数"><a href="#POST请求传递JSON参数" class="headerlink" title="POST请求传递JSON参数"></a>POST请求传递JSON参数</h2><h3 id="通过JSON格式的字符串直接传递字符串"><a href="#通过JSON格式的字符串直接传递字符串" class="headerlink" title="通过JSON格式的字符串直接传递字符串"></a>通过JSON格式的字符串直接传递字符串</h3><figure class="highlight java"><figcaption><span>app/src/main/java/.../HttpBinService.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@POST(&quot;/&quot;)</span></span><br><span class="line"><span class="meta">@FormUrlEncoded</span></span><br><span class="line">Call&lt;ResponseBody&gt; <span class="title function_">POST</span><span class="params">(<span class="meta">@Field(&quot;&quot;)</span> String json)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通过-Body注解传递RequestBody对象"><a href="#通过-Body注解传递RequestBody对象" class="headerlink" title="通过@Body注解传递RequestBody对象"></a>通过@Body注解传递RequestBody对象</h3><ul>
<li>自定义请求体</li>
</ul>
<figure class="highlight java"><figcaption><span>app/src/main/java/.../HttpBinService.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@POST(&quot;/&quot;)</span></span><br><span class="line"><span class="meta">@FormUrlEncoded</span></span><br><span class="line">Call&lt;ResponseBody&gt; <span class="title function_">POST</span><span class="params">(<span class="meta">@Body</span> RequestBody requestBody)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="发送含有RequestBody的POST请求"><a href="#发送含有RequestBody的POST请求" class="headerlink" title="发送含有RequestBody的POST请求"></a>发送含有RequestBody的POST请求</h4><figure class="highlight java"><figcaption><span>app/src/main/java/.../MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义请求体</span></span><br><span class="line"><span class="type">FormBody</span> <span class="variable">body</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FormBody</span>.Builder().add(<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>).build();</span><br><span class="line"></span><br><span class="line"><span class="type">Retrofit</span> <span class="variable">retrofit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Retrofit</span>.Builder().baseUrl(<span class="string">&quot;&lt;url&gt;&quot;</span>).build();</span><br><span class="line"><span class="type">HttpBinService</span> <span class="variable">httpBinService</span> <span class="operator">=</span> retrofit.create(HttpBinService.class);</span><br><span class="line">Call&lt;ResponseBody&gt; responseBodyCall = httpBinService.post(body);</span><br><span class="line">responseBodyCall.enqueue(<span class="keyword">new</span> <span class="title class_">Callback</span>&lt;ResponseBody&gt;() &#123;</span><br><span class="line">    <span class="comment">// 请求成功的回调方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResponse</span><span class="params">(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(response.body().string());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 请求失败的回调方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onFailure</span><span class="params">(Call&lt;ResponseBody&gt; call, Throwable t)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="通过完整请求地址发送请求"><a href="#通过完整请求地址发送请求" class="headerlink" title="通过完整请求地址发送请求"></a>通过完整请求地址发送请求</h2><ul>
<li>通过@Url注解，将完整请求地址URI以参数的形式传递</li>
</ul>
<blockquote>
<p><code>&lt;url&gt;</code>：请求的目标URL</p>
</blockquote>
<h3 id="定义接口"><a href="#定义接口" class="headerlink" title="定义接口"></a>定义接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">HttpBinService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET</span></span><br><span class="line">    Call&lt;ResponseBody&gt; <span class="title function_">get</span><span class="params">(<span class="meta">@Url</span> String url)</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@POST</span></span><br><span class="line">    <span class="meta">@FormUrlEncoded</span></span><br><span class="line">    Call&lt;ResponseBody&gt; <span class="title function_">post</span><span class="params">(<span class="meta">@Url</span> String url)</span>;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<h3 id="发送请求"><a href="#发送请求" class="headerlink" title="发送请求"></a>发送请求</h3><h4 id="发送GET请求-1"><a href="#发送GET请求-1" class="headerlink" title="发送GET请求"></a>发送GET请求</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Retrofit</span> <span class="variable">retrofit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Retrofit</span>.Builder().baseUrl(<span class="string">&quot;&quot;</span>).build();</span><br><span class="line"><span class="type">HttpBinService</span> <span class="variable">httpBinService</span> <span class="operator">=</span> retrofit.create(HttpBinService.class);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Response&lt;ResponseBody&gt; response = httpBinService.get(<span class="string">&quot;&lt;url&gt;&quot;</span>).execute();</span><br><span class="line">    System.out.println(response.body().string());</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="发送POST请求-1"><a href="#发送POST请求-1" class="headerlink" title="发送POST请求"></a>发送POST请求</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Retrofit</span> <span class="variable">retrofit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Retrofit</span>.Builder().baseUrl(<span class="string">&quot;&quot;</span>).build();</span><br><span class="line"><span class="type">HttpBinService</span> <span class="variable">httpBinService</span> <span class="operator">=</span> retrofit.create(HttpBinService.class);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Response&lt;ResponseBody&gt; response = httpBinService.post(<span class="string">&quot;&lt;url&gt;&quot;</span>).execute();</span><br><span class="line">    System.out.println(response.body().string());</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Retrofit转换器"><a href="#Retrofit转换器" class="headerlink" title="Retrofit转换器"></a>Retrofit转换器</h2><ul>
<li>通过使用Retrofit提供的转换器，将响应的JSON格式的字符传数据转换成Java对象</li>
</ul>
<h3 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h3><figure class="highlight groovy"><figcaption><span>app/build.gradle</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">    implementation <span class="string">&#x27;com.squareup.retrofit2:converter-gson:2.9.0&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="创建一个实体类"><a href="#创建一个实体类" class="headerlink" title="创建一个实体类"></a>创建一个实体类</h3><ul>
<li>根据响应的数据格式，创建一个pojo类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Responce</span> &#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="在接口中的泛型直接定义为实体类"><a href="#在接口中的泛型直接定义为实体类" class="headerlink" title="在接口中的泛型直接定义为实体类"></a>在接口中的泛型直接定义为实体类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">HttpBinService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(&quot;/&quot;)</span></span><br><span class="line">    Call&lt;Responce&gt; <span class="title function_">get</span><span class="params">(<span class="meta">@Query(&quot;username&quot;)</span> String username, <span class="meta">@Query(&quot;password&quot;)</span> String password)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="发送请求-1"><a href="#发送请求-1" class="headerlink" title="发送请求"></a>发送请求</h3><ul>
<li>创建Retrofit对象时，添加转换器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建Retrofit对象</span></span><br><span class="line"><span class="type">Retrofit</span> <span class="variable">retrofit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Retrofit</span>.Builder()</span><br><span class="line">        .baseUrl(<span class="string">&quot;&lt;url&gt;&quot;</span>)</span><br><span class="line">        .converterFactory(GsonConverterFactory.create()) <span class="comment">// 添加转换器</span></span><br><span class="line">        .build();</span><br><span class="line"><span class="comment">// 通过Retrofit对象创建自定义接口的实现类对象</span></span><br><span class="line"><span class="type">HttpBinService</span> <span class="variable">httpBinService</span> <span class="operator">=</span> retrofit.create(HttpBinService.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自动转换为Java对象</span></span><br><span class="line"><span class="type">Responce</span> <span class="variable">responce</span> <span class="operator">=</span> httpBinService.get(<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>).execute().body();</span><br></pre></td></tr></table></figure>

<h2 id="文件上传下载"><a href="#文件上传下载" class="headerlink" title="文件上传下载"></a>文件上传下载</h2><h3 id="定义接口-1"><a href="#定义接口-1" class="headerlink" title="定义接口"></a>定义接口</h3><blockquote>
<p><code>@Part</code>：此处也可以使用<code>@PartMap</code>注解实现多文件上传<br><code>@Streaming</code>：文件下载时可以防止内存溢出</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">HttpBinService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@POST(&quot;/&quot;)</span></span><br><span class="line">    <span class="meta">@Multipart</span></span><br><span class="line">    Call&lt;ResponseBody&gt; <span class="title function_">post</span><span class="params">(<span class="meta">@Part</span> MultipartBody.Part file)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(&quot;/&quot;)</span></span><br><span class="line">    <span class="meta">@Streaming</span></span><br><span class="line">    Call&lt;ResponseBody&gt; <span class="title function_">download</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="文件上传下载-1"><a href="#文件上传下载-1" class="headerlink" title="文件上传下载"></a>文件上传下载</h3><h4 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h4><blockquote>
<p><code>&lt;key&gt;</code>：请求参数键<br><code>&lt;value&gt;</code>：请求参数值，通常为文件名</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">MultipartBody.<span class="type">Part</span> <span class="variable">part</span> <span class="operator">=</span> MultipartBody.Part.createFormData(<span class="string">&quot;&lt;key&gt;&quot;</span>, <span class="string">&quot;&lt;value&gt;&quot;</span>, RequestBody.create(MediaType.parse(<span class="string">&quot;text/plain&quot;</span>), file));</span><br><span class="line"></span><br><span class="line"><span class="type">Retrofit</span> <span class="variable">retrofit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Retrofit</span>.Builder().baseUrl(<span class="string">&quot;&lt;url&gt;&quot;</span>).build();</span><br><span class="line"><span class="type">HttpBinService</span> <span class="variable">httpBinService</span> <span class="operator">=</span> retrofit.create(HttpBinService.class);</span><br><span class="line">Call&lt;ResponseBody&gt; call = httpBinService.upload(part);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> call.execute().body().string();</span><br><span class="line">    System.out.println(result);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h4><blockquote>
<p><code>&lt;file&gt;</code>：文件存放的本地路径</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Retrofit</span> <span class="variable">retrofit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Retrofit</span>.Builder().baseUrl(<span class="string">&quot;&lt;url&gt;&quot;</span>).build();</span><br><span class="line"><span class="type">HttpBinService</span> <span class="variable">httpBinService</span> <span class="operator">=</span> retrofit.create(HttpBinService.class);</span><br><span class="line">Call&lt;ResponseBody&gt; call = httpBinService.download();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Response&lt;ResponseBody&gt; response = call.execute();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (response.isSuccessful()) &#123;</span><br><span class="line">        <span class="comment">/* 通过I/O流保存文件到本地 */</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> response.body().byteStream();</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;&lt;file&gt;&quot;</span>);</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">4096</span>];</span><br><span class="line">        <span class="keyword">while</span> ((len = inputStream.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        fos.close();</span><br><span class="line">        inputStream.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV13y4y1E7pF/">哔哩哔哩——Android架构解析</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div><svg class="coin" width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.045 25.5454C7.69377 25.5454 2.54504 20.3967 2.54504 14.0454C2.54504 7.69413 7.69377 2.54541 14.045 2.54541C20.3963 2.54541 25.545 7.69413 25.545 14.0454C25.545 17.0954 24.3334 20.0205 22.1768 22.1771C20.0201 24.3338 17.095 25.5454 14.045 25.5454ZM9.66202 6.81624H18.2761C18.825 6.81624 19.27 7.22183 19.27 7.72216C19.27 8.22248 18.825 8.62807 18.2761 8.62807H14.95V10.2903C17.989 10.4444 20.3766 12.9487 20.3855 15.9916V17.1995C20.3854 17.6997 19.9799 18.1052 19.4796 18.1052C18.9793 18.1052 18.5738 17.6997 18.5737 17.1995V15.9916C18.5667 13.9478 16.9882 12.2535 14.95 12.1022V20.5574C14.95 21.0577 14.5444 21.4633 14.0441 21.4633C13.5437 21.4633 13.1382 21.0577 13.1382 20.5574V12.1022C11.1 12.2535 9.52148 13.9478 9.51448 15.9916V17.1995C9.5144 17.6997 9.10883 18.1052 8.60856 18.1052C8.1083 18.1052 7.70273 17.6997 7.70265 17.1995V15.9916C7.71158 12.9487 10.0992 10.4444 13.1382 10.2903V8.62807H9.66202C9.11309 8.62807 8.66809 8.22248 8.66809 7.72216C8.66809 7.22183 9.11309 6.81624 9.66202 6.81624Z" fill="currentColor"></path></svg></div>
  <button>
    储钱罐
  </button>
  <div class="post-reward">
      <div>
        <img src="/assets/images/reward/images/wxpay.png" alt="57uv6Z6g 微信支付">
        <span>微信支付</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/alipay.png" alt="57uv6Z6g 支付宝">
        <span>支付宝</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/qqpay.png" alt="57uv6Z6g qqpay">
        <span>qqpay</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/bitcoin.png" alt="57uv6Z6g 比特币">
        <span>比特币</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/ethereum.png" alt="57uv6Z6g ethereum">
        <span>ethereum</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/monero.png" alt="57uv6Z6g monero">
        <span>monero</span>
      </div>
      <div>
        <img src="/assets/images/reward/images/paypal.png" alt="57uv6Z6g 贝宝">
        <span>贝宝</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/Android/" rel="tag"># Android</a>
              <a href="/tags/Java/" rel="tag"># Java</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/04/05/%E5%8D%B8%E8%BD%BDWindows10%E9%A2%84%E8%A3%85%E5%BA%94%E7%94%A8/" rel="prev" title="【笔记】卸载Windows10预装应用">
                  <i class="fa fa-angle-left"></i> 【笔记】卸载Windows10预装应用
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/04/05/Gson%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="next" title="【笔记】Gson学习笔记">
                  【笔记】Gson学习笔记 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments"><div id="twikoo-comments"></div></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2019 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">57uv6Z6g</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>
<div id="site-time"></div>


<div id="current-visitors-count"></div>


<div id="site-badge"></div>


<div id="loading-door-left"></div>
<div id="loading-door-right"></div>
<a id="loading-door-a" href="javascript:loadingDoorOpen();">芝麻开门</a>


<div id="waifu">
  <div id="waifu-tips"></div>
  <canvas id="live2d" width="800" height="800"></canvas>
</div>
<div id="waifu-toggle">
  <span>看板娘</span>
</div>


<link rel="stylesheet" href="/dist/bundle.css">


<script src="/dist/bundle.js"></script>


    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="twikoo" type="application/json">{"enable":true,"visitor":false,"envId":"https://twikoo.loli.fj.cn","jsUrl":"https://unpkg.com/twikoo@1.6.44/dist/twikoo.min.js","el":"#twikoo-comments"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.twikoo.el)
    .then(() => NexT.utils.getScript(
      CONFIG.twikoo.jsUrl || 'https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js',
      { condition: window.twikoo }
    ))
    .then(() => {
      twikoo.init(CONFIG.twikoo);
    });
});
</script>
<style>
.post-block, .comments {
  overflow: visible;
}
.tk-owo-emotion {
  display: inline-block;
}
</style>

</body>
</html>
